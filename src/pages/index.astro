---
import '../styles/utils.css';
import '../styles/global.css';
import Layout from '../layouts/Layout.astro';
import Container from '../components/Container.astro';

import content from '../content/pages/landing.json';

// import gsap from 'gsap';
---

<Layout title={content.title} description={content.headline}>
  <Container>
    <section class="hero-section flex">
      <div class="content">
        <h1 class="title">{content.title}</h1>
        <p class="headline">{content.headline}</p>
      </div>
    </section>
  </Container>
</Layout>

<script>
  import gsap from 'gsap';

  // @ts-ignore
  if (window.netlifyIdentity) {
    // @ts-ignore
    window.netlifyIdentity.on('init', (user) => {
      if (!user) {
        // @ts-ignore
        window.netlifyIdentity.on('login', () => {
          document.location.href = '/admin/';
        });
      }
    });
  }

  gsap.fromTo('.title', { opacity: 0 }, { opacity: 1, duration: 2 });
  gsap.fromTo(
    '.headline',
    { opacity: 0 },
    { opacity: 1, duration: 1, delay: 1.25 },
  );
</script>

<style>
  .hero-section {
    height: calc(100vh - 113px);

    align-items: center;
  }

  .content {
    width: 100%;

    transform: translateY(-54%);
  }

  .title,
  .headline {
    text-align: center;
  }

  .title {
    margin-bottom: 4px;
  }
</style>
